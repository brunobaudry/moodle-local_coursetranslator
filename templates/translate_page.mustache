{{!
This file is part of Moodle - http://moodle.org/

Moodle is free software: you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation, either version 3 of the License, or
(at your option) any later version.

Moodle is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU General Public License for more details.

You should have received a copy of the GNU General Public License
along with Moodle.  If not, see <http://www.gnu.org/licenses/>.
}}{{!
  @template local_coursetranslator/translate_page

  Provides translation form header and controls
{#@todo correct doc with data attributes#}
  Classes required for JS:
  * local-coursetranslator__localeswitcher
  * local-coursetranslator__select-all
  * local-coursetranslator__show-updated
  * local-coursetranslator__show-needsupdate
  * local-coursetranslator__autotranslate-btn

  Data attributes required for JS:
  * none

  Context variables required for this template:
  * lang
  * langs
  * wordcount
  * charcount
  * charcountspaces

  Example context (json):
  {
    "lang": "en",
    "langs": [
      {
        "code": "other",
        "lang": "Other (other)"
      },
      {
        "code": "en",
        "lang": "English (en)"
      }
    ],
    "wordcount": 4,
    "charcount": 20,
    "charcountspaces": 25
  }
}}
<div class="text-right">
    <a id="local_coursetranslator__settings"
       role="button" class="link link-underline" data-toggle="collapse"
       data-target="#collapseExample" aria-expanded="false" aria-controls="collapseExample">
        <i class="fa fa-caret-right"></i><i class="fa fa-caret-down"></i> {{#str}}t_seeSetting,local_coursetranslator{{/str}}
    </a>
</div>
<div class="container-fluid collapse card bg-primary-light" id="collapseExample">
    <div class="text-right">
        <i class="fa fa-question-circle" aria-hidden="true"></i>
        <a href=" https://www.deepl.com/docs-api/translate-text/translate-text" id="local_coursetranslator__moresettings">{{#str}}
            t_deeplapidoc,local_coursetranslator{{/str}}</a>
    </div>
    <div class="row py-3">
        <div class="col-2" id="local_coursetranslator__formality">
            {{#str}}t_formality,local_coursetranslator{{/str}}
            <div class="custom-control custom-radio">
                <input type="radio" value="default" checked="checked" id="formality1" name="local-coursetranslator/formality" class="custom-control-input">
                <label class="custom-control-label" for="formality1">{{#str}}t_formality_default,local_coursetranslator{{/str}}</label>
            </div>
            <div class="custom-control custom-radio">
                <input type="radio" value="less" id="formality2" name="local-coursetranslator/formality" class="custom-control-input">
                <label class="custom-control-label" for="formality2">{{#str}}t_formality_less,local_coursetranslator{{/str}}</label>
            </div>
            <div class="custom-control custom-radio">
                <input type="radio" value="more" id="formality3" name="local-coursetranslator/formality" class="custom-control-input">
                <label class="custom-control-label" for="formality3">{{#str}}t_formality_more,local_coursetranslator{{/str}}</label>
            </div>
            <div class="custom-control custom-radio">
                <input type="radio" value="prefer_less" id="formality4" name="local-coursetranslator/formality" class="custom-control-input">
                <label class="custom-control-label" for="formality4">{{#str}}t_formality_prefer_less,local_coursetranslator{{/str}}</label>
            </div>
            <div class="custom-control custom-radio">
                <input type="radio" value="prefer_more" id="formality5" name="local-coursetranslator/formality" class="custom-control-input">
                <label class="custom-control-label" for="formality5">{{#str}}t_formality_prefer_more,local_coursetranslator{{/str}}</label>
            </div>
        </div>
        <div class="col-4">
            <div id="local_coursetranslator__splitsentences">
                {{#str}}t_splitsentences,local_coursetranslator{{/str}}
                <div class="custom-control custom-radio">
                    <input type="radio" id="split_sentences1" name="local-coursetranslator/split_sentences" class="custom-control-input" value="0">
                    <label class="custom-control-label" for="split_sentences1">{{#str}}t_splitsentences_0,local_coursetranslator{{/str}}</label>
                </div>
                <div class="custom-control custom-radio">
                    <input type="radio" id="split_sentences2" name="local-coursetranslator/split_sentences" class="custom-control-input" checked="checked" value="1">
                    <label class="custom-control-label" for="split_sentences2">{{#str}}t_splitsentences_1,local_coursetranslator{{/str}}</label>
                </div>
                <div class="custom-control custom-radio">
                    <input type="radio" checked="checked" id="split_sentences3"
                           name="local-coursetranslator/split_sentences"
                           class="custom-control-input"
                           value="nonewlines">
                    <label class="custom-control-label" for="split_sentences3">{{#str}}t_splitsentences_nonewlines,local_coursetranslator{{/str}}</label>
                </div>
            </div>
            <div id="local_coursetranslator__preserveformating">
                <div class="mt-4 custom-control custom-switch">
                    <input type="checkbox" class="custom-control-input" id="preserve_formatting" data-id="local-coursetranslator/preserve_formatting">
                    <label class="custom-control-label" for="preserve_formatting">{{#str}}t_preserveformatting,local_coursetranslator{{/str}}</label>
                </div>
            </div>
        </div>
        <div class="col-6" id="local_coursetranslator__glossarycontext">
            <label class="" for="local_coursetranslator__glossary">{{#str}}t_glossaryid,local_coursetranslator{{/str}}</label>
            <input type="text" class="w-50 form-control mb-2 mr-sm-2" id="local_coursetranslator__glossary"
                   placeholder="{{#str}}t_glossaryid_placeholder,local_coursetranslator{{/str}}"
                   data-id="local-coursetranslator/glossary_id"/>

            <label for="local_coursetranslator__context">{{#str}}t_contextDeepl,local_coursetranslator{{/str}}</label>
            <textarea class="form-control" id="local_coursetranslator__context" data-id="local-coursetranslator/context" rows="3"
                      placeholder="{{#str}}t_contextDeeplPlaceholder,local_coursetranslator{{/str}}"></textarea>
        </div>
    </div>
    <hr class="hr hr-blurry"/>
    <div class="row py-3" id="local_coursetranslator__tags">
        <div class="col-5" id="local_coursetranslator__xmlhtml">
            <div class="d-flex my-switch">
                <div class="form-text text-1"> {{#str}}t_taghandling,local_coursetranslator{{/str}}XML&nbsp;</div>
                <div class="custom-control custom-switch">
                    <input id="tag_handling" class="custom-control-input" type="checkbox" data-id="local-coursetranslator/tag_handling" checked>
                    <label class="custom-control-label" for="tag_handling">&nbsp;HTML</label></div>
            </div>
            <div class="custom-control custom-switch mt-3" id="local_coursetranslator__outilinedetection">
                <input id="outline_detection" class="custom-control-input" type="checkbox" data-id="local-coursetranslator/outline_detection">
                <label class="custom-control-label" for="outline_detection">{{#str}}t_outlinedetection,local_coursetranslator{{/str}}</label>
            </div>
            <div class="mt-3" id="local_coursetranslator__tagsignore">
                <label for="ignore_tags">{{#str}}t_ignoretags,local_coursetranslator{{/str}}</label>
                <textarea class="form-control" id="ignore_tags" data-id="local-coursetranslator/ignore_tags"
                          placeholder="{{#str}}t_ignoretags,local_coursetranslator{{/str}}"></textarea>
            </div>
        </div>
        <div class="col-7 py-3">
            <div class="col" id="local_coursetranslator__tagsnosplitting">
                <label for="non_splitting_tags">{{#str}}t_nonsplittingtags,local_coursetranslator{{/str}}</label>
                <textarea class="form-control" id="non_splitting_tags" data-id="local-coursetranslator/non_splitting_tags"
                          placeholder="{{#str}}t_tagsplaceholder,local_coursetranslator{{/str}}"></textarea></div>
            <div class="col" id="local_coursetranslator__tagssplitting"><label for="splitting_tags">{{#str}}t_splittingtags,local_coursetranslator{{/str}}</label>
                <textarea class="form-control" id="splitting_tags" data-id="local-coursetranslator/splitting_tags"
                          placeholder="{{#str}}t_tagsplaceholder,local_coursetranslator{{/str}}"></textarea></div>
        </div>
    </div>
</div>
<div class="container-fluid">
    <div class="row py-1" id="local_coursetranslator__sourcetarget">
        <div class="col-3 text-right"><label for="source_lang">{{#str}}t_sourceLang,local_coursetranslator{{/str}}</label></div>
        <div class="col-2">
            <select class="form-control" id="source_lang"
                    data-action="local-coursetranslator/source-switcher">
                {{#langs}}
                    <option value="{{ code }}" {{selected}} {{disabled}}>{{ lang }}</option>
                {{/langs}}
            </select>
        </div>
        <div class="col-1 h1 text-center"><i class="fa fa-arrow-right" aria-hidden="true"></i>
        </div>
        <div class="col-2">
            <select
                    id="select-target-language"
                    name="select-target-language"
                    class="local-coursetranslator__localeswitcher form-control"
                    data-action="local-coursetranslator/target-switcher"
            >
                {{#target_langs}}
                    <option value="{{ code }}" {{selected}} {{disabled}}>{{ lang }}</option>
                {{/target_langs}}
            </select>
        </div>
        <div class="col-3"><label for="select-target-language">{{#str}}t_select_target_language,local_coursetranslator{{/str}}</label></div>
    </div>
</div>
<div class="bg-secondary container-fluid sticky-top sticky-offset" id="local-coursetranslator-translate-header">
    <div class="row pl-5 pt-2 pb-0" id="local-coursetranslator-translate-header-filter">
        <span>Filters :</span>
        <div class="custom-control custom-switch ml-3">
            <input id="show-updated" class="custom-control-input local-coursetranslator__show-updated" type="checkbox"
                   data-id="local-coursetranslator/outline_detection"
                   data-action="local-coursetranslator/show-updated">
            <label class="custom-control-label" for="show-updated">{{#str}}t_uptodate,local_coursetranslator{{/str}}</label>
        </div>
        <div class="custom-control custom-switch ml-3">
            <input id="show-needsupdate" checked="checked" type="checkbox"
                   class="custom-control-input local-coursetranslator__show-needsupdate"
                   data-id="local-coursetranslator/outline_detection"
                   data-action="local-coursetranslator/show-needsupdate"
            >
            <label class="custom-control-label" for="show-needsupdate">{{#str}}t_needsupdate,local_coursetranslator{{/str}}</label>
        </div>

    </div>
    <div class="row pb-2 pt-3 align-items-center">
        <div class="col-1 px-5">
            <div class="form-check" id="local-coursetranslator-translate-header-select-all">
                <input
                        class="form-check-input local-coursetranslator__select-all"
                        data-action="local-coursetranslator/select-all"
                        type="checkbox"
                        aria-label="{{#str}}t_selectall,local_coursetranslator{{/str}}"
                        title="{{#str}}t_selectall,local_coursetranslator{{/str}}"
                        name="select-all"
                        id="select-all"
                        disabled/>
                <label class="form-check-label" for="select-all">
                    {{#str}}t_selectall,local_coursetranslator{{/str}}
                </label>
            </div>
        </div>
        <div class="col-9 text-center">
                <span id="local-coursetranslator-translate-header-usage" class="ml-2 p-1 alert">
                {{! counts }}
                    {{#str}}t_word_count_sentence,local_coursetranslator{{/str}}
            </span>
        </div>
        <div class="col-2 px-0">
            <div class="text-center">
                <button
                        id="local-coursetranslator-translate-header-translatebutton"
                        type="button"
                        class="float-right mr-2 btn btn-primary local-coursetranslator__autotranslate-btn"
                        data-action="local-coursetranslator/autotranslate-btn"
                        disabled
                >{{#str}}t_autotranslate,local_coursetranslator,{ "source": {{#quote}} {{current_lang}} {{/quote}}, "target": {{#quote}} {{target_lang}} {{/quote}} } {{/str}}
                </button>
            </div>
        </div>
    </div>
</div>
{{{mform}}}
<button
        id="local-coursetranslator-translate-header-saveallbutton"
        title="{{#str}}t_saveallexplain,local_coursetranslator{{/str}}"
        type="button"
        class="btn btn-success local-coursetranslator__saveall-btn"
        data-action="local-coursetranslator/saveall-btn"
        disabled
        hidden
><i class="fa fa-floppy-o" aria-hidden="true"></i> {{#str}}t_saveall,local_coursetranslator{{/str}}</button>
